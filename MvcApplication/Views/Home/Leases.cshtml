@{
    ViewBag.Title = "Leases";
	Layout = "~/Views/Shared/_master.cshtml";
}

<h2>Leases For Company @ViewBag.Name</h2>

@Html.Partial("_Toolbar")
<table id="units" class="table table-striped table-hover">
	<thead>
		<tr>
			<th>Unit</th>
			<th>StartDate</th>
			<th>EndDate</th>
			<th>IsMonthToMonth</th>
			<th>PaymentDueDay</th>
		</tr>
	</thead>
	<tbody data-bind="foreach: items">
		<tr class="form-group">
			<td><a href="">Unit</a></td>
			<td><input type="text" class="form-control input-sm" data-bind="value: startdate" id="startdate"></td>
			<td><input type="text" class="form-control input-sm" data-bind="value: enddate" id="enddate"></td>
			<td><input type="text" class="form-control input-sm" data-bine="value: ismonthtomonth"/></td>
			<td><input type="text" class="form-control input-sm" data-bind="value: paymentdueday" id="paymentdueday"></td>
			<td><a data-bind="attr: { href: '@Url.Action("LeaseDetails", "Home")/' + id() }" class="btn btn-info btn-sm">Lease</a>
				@Html.Partial("_DeleteButton")
			</td>
		</tr>
	</tbody>
</table>

<script type="text/javascript">

    $(function () {
    	var viewModel = new propertyManager.ViewModel('@Url.RouteUrl("leases", new { httproute = "", companyid = ViewBag.Id })', {});
        viewModel.get(function () {
            ko.applyBindings(viewModel);
        });

        $('#startdate').datepicker({
        	format: "mm/dd//yyyy"
        });
        $('#enddate').datepicker({
        	format: "mm/dd//yyyy"
        });
        $('#paymentdueday').datepicker({
        	format: "mm/dd//yyyy"
        });
    });
</script>