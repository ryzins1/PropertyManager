@{
    ViewBag.Title = "Leases";
}

<h2>Leases For Company @ViewBag.Name</h2>

@Html.Partial("_Toolbar")
<table id="units" class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Unit</th>
            <th>StartDate</th>
            <th>EndDate</th>
            <th>IsMonthToMonth</th>
            <th>PaymentDueDay</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: items">
        <tr class="form-group">
            <td><a href="">Unit</a></td>
            <td><input type="text" class="form-control input-sm datepicker" data-bind="value: startDate"></td>
            <td><input type="text" class="form-control input-sm datepicker" data-bind="value: endDate"></td>
            <td><input type="text" class="form-control input-sm" data-bine="value: isMonthToMonth" /></td>
            <td><input type="text" class="form-control input-sm" data-bind="value: paymentDueDay"></td>
            <td>
                <a data-bind="attr: { href: '@Url.Action("LeaseDetails", "Home")/' + id() }" class="btn btn-info btn-sm">Lease</a>
                @Html.Partial("_DeleteButton")
            </td>
        </tr>
    </tbody>
</table>

@section Scripts {
    <script type="text/javascript">
        $(function () {
            var viewModel = new propertyManager.ViewModel('@Url.RouteUrl("leases", new { httproute = "", companyid = ViewBag.Id })', {});
            viewModel.get(function () {
                ko.applyBindings(viewModel);

                $('.datepicker').datepicker({
                    format: "mm/dd/yyyy"
                });

            });
        });
    </script>
}